<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2019-02-07 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  
<!-- Mirrored from ninja.allexample.com/upgrade_guide.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 14 Oct 2019 15:10:18 GMT -->
<head>
    <meta charset=utf-8"UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20190207" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Ninja - Upgrade guide</title>
    <link rel="stylesheet" href="apache-maven-fluido-1.3.1.min.css" tppabs="../www.ninjaframework.org/css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="site.css" tppabs="../www.ninjaframework.org/css/site.css" />
    <link rel="stylesheet" href="print.css" tppabs="http://www.ninjaframework.org/css/print.css" media="print" />

      
    <script type="text/javascript" src="apache-maven-fluido-1.3.1.min.js" tppabs="../www.ninjaframework.org/js/apache-maven-fluido-1.3.1.min.js"></script>

                          
        
<meta name="description" content="Ninja is a full stack web framework for Java.                     Rock solid, fast and super productive."/>
                      
        
<link rel="icon" href="favicon.html" type="image/png"/>
                      
        
<link rel="stylesheet" href="css-family%3dTitillium%2bWeb.css" tppabs="http://fonts.googleapis.com/css?family=Titillium+Web" type="text/css"/>
                      
        
<link rel="stylesheet" href="css-family%3dInconsolata.css" tppabs="http://fonts.googleapis.com/css?family=Inconsolata" type="text/css"/>
                      
        
<link rel="stylesheet" href="font-awesome.min.css" tppabs="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" type="text/css"/>
                      
        
<script type="text/javascript">var _gaq = _gaq || [];
                _gaq.push(['_setAccount', 'UA-38154034-1']);
                _gaq.push(['_trackPageview']);

                (function() {
                var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www/') + '.google-analytics.com/ga.js';
                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
                })();</script>
          
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="javascript:if(confirm('http://github.com/ninjaframework/ninja  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='http://github.com/ninjaframework/ninja'" tppabs="http://github.com/ninjaframework/ninja">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="forkme_right_gray_6d6d6d.png" tppabs="../s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="index.html" tppabs="http://www.ninjaframework.org/.." id="bannerLeft" title="Ninja web framework">
                                                                                                <img src="ninja_logo.png" tppabs="http://www.ninjaframework.org/ninja_logo.png"  alt="Ninja web framework"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
            
                
                    
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2019-02-07</li>
              <li id="projectVersion" class="pull-right">
                    Version: 6.4.2
        </li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Introduction</li>
                              
      <li>
  
                          <a href="introduction.html" tppabs="http://www.ninjaframework.org/introduction.html" title="The problem we solve">
          <i class="none"></i>
        The problem we solve</a>
            </li>
                
      <li>
  
                          <a href="high_level_overview.html" tppabs="http://www.ninjaframework.org/high_level_overview.html" title="Ninja - high level overview">
          <i class="none"></i>
        Ninja - high level overview</a>
            </li>
                
      <li>
  
                          <a href="team.html" tppabs="http://www.ninjaframework.org/team.html" title="The team">
          <i class="none"></i>
        The team</a>
            </li>
                              <li class="nav-header">Commercial support</li>
                              
      <li>
  
                          <a href="philosophy.html" tppabs="http://www.ninjaframework.org/commercial_support/philosophy.html" title="Philosophy">
          <i class="none"></i>
        Philosophy</a>
            </li>
                
      <li>
  
                          <a href="training.html" tppabs="http://www.ninjaframework.org/commercial_support/training.html" title="Training">
          <i class="none"></i>
        Training</a>
            </li>
                
      <li>
  
                          <a href="support_plans.html" tppabs="http://www.ninjaframework.org/commercial_support/support_plans.html" title="Support plans">
          <i class="none"></i>
        Support plans</a>
            </li>
                
      <li>
  
                          <a href="agile_custom_development.html" tppabs="http://www.ninjaframework.org/commercial_support/agile_custom_development.html" title="Custom development">
          <i class="none"></i>
        Custom development</a>
            </li>
                              <li class="nav-header">Documentation</li>
                                                                                                                    
      <li>
  
                          <a href="installing_ninja.html" tppabs="http://www.ninjaframework.org/documentation/getting_started/installing_ninja.html" title="Getting Started">
          <i class="icon-chevron-right"></i>
        Getting Started</a>
                  </li>
                                                                                                                                                                                                                                    
      <li>
  
                          <a href="basic_concepts.html" tppabs="http://www.ninjaframework.org/documentation/basic_concepts/basic_concepts.html" title="Basic concepts">
          <i class="icon-chevron-right"></i>
        Basic concepts</a>
                  </li>
                
      <li>
  
                          <a href="configuration_and_modes.html" tppabs="http://www.ninjaframework.org/documentation/configuration_and_modes.html" title="Configuration and modes">
          <i class="none"></i>
        Configuration and modes</a>
            </li>
                                                                                                                        
      <li>
  
                          <a href="getting_started.html" tppabs="http://www.ninjaframework.org/documentation/html_templating/getting_started.html" title="HTML templating">
          <i class="icon-chevron-right"></i>
        HTML templating</a>
                  </li>
                
      <li>
  
                          <a href="working_with_json_jsonp.html" tppabs="http://www.ninjaframework.org/documentation/working_with_json_jsonp.html" title="Working with JSON / JSONP">
          <i class="none"></i>
        Working with JSON / JSONP</a>
            </li>
                
      <li>
  
                          <a href="working_with_xml.html" tppabs="http://www.ninjaframework.org/documentation/working_with_xml.html" title="Working with XML">
          <i class="none"></i>
        Working with XML</a>
            </li>
                              <li class="nav-header">Advanced topics</li>
                              
      <li>
  
                          <a href="websockets.html" tppabs="http://www.ninjaframework.org/documentation/websockets.html" title="Web Sockets">
          <i class="none"></i>
        Web Sockets</a>
            </li>
                
      <li>
  
                          <a href="validation.html" tppabs="http://www.ninjaframework.org/documentation/validation.html" title="Validation">
          <i class="none"></i>
        Validation</a>
            </li>
                
      <li>
  
                          <a href="content_negotiation.html" tppabs="http://www.ninjaframework.org/documentation/content_negotiation.html" title="Content negotiation">
          <i class="none"></i>
        Content negotiation</a>
            </li>
                
      <li>
  
                          <a href="uploading_files.html" tppabs="http://www.ninjaframework.org/documentation/uploading_files.html" title="Uploading files">
          <i class="none"></i>
        Uploading files</a>
            </li>
                
      <li>
  
                          <a href="scheduler.html" tppabs="http://www.ninjaframework.org/documentation/scheduler.html" title="Scheduler">
          <i class="none"></i>
        Scheduler</a>
            </li>
                
      <li>
  
                          <a href="lifecycle.html" tppabs="http://www.ninjaframework.org/documentation/lifecycle.html" title="Lifecycle">
          <i class="none"></i>
        Lifecycle</a>
            </li>
                                                                  
      <li>
  
                          <a href="jpa.html" tppabs="http://www.ninjaframework.org/documentation/working_with_relational_dbs/jpa.html" title="Working with relational DBs">
          <i class="icon-chevron-right"></i>
        Working with relational DBs</a>
                  </li>
                
      <li>
  
                          <a href="using_the_cache.html" tppabs="http://www.ninjaframework.org/documentation/using_the_cache.html" title="Using the cache">
          <i class="none"></i>
        Using the cache</a>
            </li>
                
      <li>
  
                          <a href="internationalization.html" tppabs="http://www.ninjaframework.org/documentation/internationalization.html" title="Internationalization">
          <i class="none"></i>
        Internationalization</a>
            </li>
                
      <li>
  
                          <a href="static_assets.html" tppabs="http://www.ninjaframework.org/documentation/static_assets.html" title="Static assets">
          <i class="none"></i>
        Static assets</a>
            </li>
                
      <li>
  
                          <a href="sending_mail.html" tppabs="http://www.ninjaframework.org/documentation/sending_mail.html" title="Sending mail">
          <i class="none"></i>
        Sending mail</a>
            </li>
                
      <li>
  
                          <a href="logging.html" tppabs="http://www.ninjaframework.org/documentation/logging.html" title="Logging">
          <i class="none"></i>
        Logging</a>
            </li>
                
      <li>
  
                          <a href="custom_routing.html" tppabs="http://www.ninjaframework.org/documentation/custom_routing.html" title="Custom routing">
          <i class="none"></i>
        Custom routing</a>
            </li>
                
      <li>
  
                          <a href="servlet_bridge.html" tppabs="http://www.ninjaframework.org/documentation/servlet_bridge.html" title="Servlet bridge">
          <i class="none"></i>
        Servlet bridge</a>
            </li>
                
      <li>
  
                          <a href="console.html" tppabs="http://www.ninjaframework.org/documentation/console.html" title="Console application">
          <i class="none"></i>
        Console application</a>
            </li>
                                                                                                                                                            
      <li>
  
                          <a href="getting_started-1.html" tppabs="http://www.ninjaframework.org/documentation/testing_your_application/getting_started.html" title="Testing">
          <i class="icon-chevron-right"></i>
        Testing</a>
                  </li>
                
      <li>
  
                          <a href="debugging.html" tppabs="http://www.ninjaframework.org/documentation/debugging.html" title="Debugging">
          <i class="none"></i>
        Debugging</a>
            </li>
                
      <li>
  
                          <a href="getting_started-2.html" tppabs="http://www.ninjaframework.org/documentation/security/getting_started.html" title="Security">
          <i class="none"></i>
        Security</a>
            </li>
                                                                                                                        
      <li>
  
                          <a href="getting_started-3.html" tppabs="http://www.ninjaframework.org/documentation/deployment/getting_started.html" title="Deployment">
          <i class="icon-chevron-right"></i>
        Deployment</a>
                  </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>Upgrade guide</a>
          </li>
                
      <li>
  
                          <a href="index-2.html" tppabs="http://www.ninjaframework.org/apidocs/index.html" title="API docs (JavaDoc)">
          <i class="none"></i>
        API docs (JavaDoc)</a>
            </li>
                              <li class="nav-header">Ninja Modules</li>
                              
      <li>
  
                          <a href="modules.html" tppabs="http://www.ninjaframework.org/documentation/modules.html" title="Overview">
          <i class="none"></i>
        Overview</a>
            </li>
                              <li class="nav-header">Great community</li>
                              
      <li>
  
                          <a href="javascript:if(confirm('https://twitter.com/ninjaframework  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://twitter.com/ninjaframework'" tppabs="https://twitter.com/ninjaframework" class="externalLink" title="@ninjaframework">
          <i class="none"></i>
        @ninjaframework</a>
            </li>
                
      <li>
  
                          <a href="javascript:if(confirm('https://groups.google.com/d/forum/ninja-framework  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://groups.google.com/d/forum/ninja-framework'" tppabs="https://groups.google.com/d/forum/ninja-framework" class="externalLink" title="Mailing list">
          <i class="none"></i>
        Mailing list</a>
            </li>
                
      <li>
  
                          <a href="javascript:if(confirm('https://github.com/ninjaframework/ninja  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/ninjaframework/ninja'" tppabs="https://github.com/ninjaframework/ninja" class="externalLink" title="Source code">
          <i class="none"></i>
        Source code</a>
            </li>
                
      <li>
  
                          <a href="javascript:if(confirm('https://github.com/ninjaframework/ninja/issues  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/ninjaframework/ninja/issues'" tppabs="https://github.com/ninjaframework/ninja/issues" class="externalLink" title="Bug tracker">
          <i class="none"></i>
        Bug tracker</a>
            </li>
                
      <li>
  
                          <a href="security.html" tppabs="http://www.ninjaframework.org/security.html" title="Security issues">
          <i class="none"></i>
        Security issues</a>
            </li>
                              <li class="nav-header">For developers</li>
                              
      <li>
  
                          <a href="changelog.html" tppabs="http://www.ninjaframework.org/developer/changelog.html" title="Changelog">
          <i class="none"></i>
        Changelog</a>
            </li>
                
      <li>
  
                          <a href="roadmap.html" tppabs="http://www.ninjaframework.org/developer/roadmap.html" title="Roadmap">
          <i class="none"></i>
        Roadmap</a>
            </li>
                
      <li>
  
                          <a href="getting_started-4.html" tppabs="http://www.ninjaframework.org/developer/getting_started.html" title="How to contribute">
          <i class="none"></i>
        How to contribute</a>
            </li>
            </ul>
                
                    
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="http://www.ninjaframework.org" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="brand-form%3dsearch-form.html" tppabs="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="plusone.html" tppabs="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="javascript:if(confirm('http://www.ninjaframework.org/ninja-core  \n\n该文件无法用 Teleport Ultra 下载, 因为 服务器报告该文件未找到。  \n\n你想在服务器上打开它?'))window.location='http://www.ninjaframework.org/ninja-core'" tppabs="http://www.ninjaframework.org/ninja-core" data-size="tall" ></div>

                   <div class="clear"></div>
                            <div class="clear"></div>
               
        
        
        <div id="twitter">
    
    <a href="javascript:if(confirm('https://twitter.com/ninjaframework  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://twitter.com/ninjaframework'" tppabs="https://twitter.com/ninjaframework" class="twitter-follow-button" data-show-count="true" data-align="left" data-size="medium" data-show-screen-name="true" data-lang="en">Follow ninjaframework</a>
    <script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="widgets.html"/*tpa=http://platform.twitter.com/widgets.js*/;fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        </div>
                   <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="javascript:if(confirm('http://maven.apache.org/  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='http://maven.apache.org/'" tppabs="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="maven-feather.png" tppabs="../www.ninjaframework.org/images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <h1>Upgrade guide</h1>
<p>Sometimes (and hopefully not too often) we have to introduce breaking changes into Ninja&#x2019;s behavior. This document describes which steps are needed to upgrade your application to the latest Ninja version. Simply start with your current version and then work your way up to the top of the document.</p>
<div class="section">
<h2>to 6.3.X<a name="to_6.3.X"></a></h2>
<p>Some inner methods of the <tt>Ninja</tt> base class have a new signature, with more precise exception types. If you overrided some of them, or if you implemented your own <tt>Ninja</tt> class without extending the <tt>NinjaDefault</tt> one, you should be able to fix them easily.</p></div>
<div class="section">
<h2>to 6.3.0<a name="to_6.3.0"></a></h2>
<p>Postoffice is now a separate dependency. Make sure to add the dependency to your pom.xml file and add the module to Modules.java. See details in <a class="externalLink" href="sending_mail.html" tppabs="http://www.ninjaframework.org/documentation/sending_mail.html">http://www.ninjaframework.org/documentation/sending_mail.html</a></p></div>
<div class="section">
<h2>to 6.0.1<a name="to_6.0.1"></a></h2>
<div class="section">
<h3>FluentLenium update causes backward incompatibility<a name="FluentLenium_update_causes_backward_incompatibility"></a></h3>
<p>Refer to the FluentLenium migration guide <a class="externalLink" href="javascript:if(confirm('http://fluentlenium.org/migration/from-0.13.2-to-1.0-or-3.0/  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='http://fluentlenium.org/migration/from-0.13.2-to-1.0-or-3.0/'" tppabs="http://fluentlenium.org/migration/from-0.13.2-to-1.0-or-3.0/">http://fluentlenium.org/migration/from-0.13.2-to-1.0-or-3.0/</a> or force usage of fluentlenium-core 0.10.3 in your project dependencies.</p></div></div>
<div class="section">
<h2>to 6.0.0<a name="to_6.0.0"></a></h2>

<ul>
  
<li>Java 8 is required.</li>
  
<li>Maven 3.3.9 is required.</li>
  
<li>Replace all usages of Guava&#x2019;s Optional with Java8 Optional. Your compiler  will guide you.</li>
</ul></div>
<div class="section">
<h2>to 5.4.0<a name="to_5.4.0"></a></h2>
<p>Guice bindings for template engines like Freemarker were modified to be bound differently than in previous versions. If you use a custom template engine via a third party module then it may need to be bound into Guice slightly different. This is how template engines typically were bound:</p>

<div class="source">
<pre>public class CustomTemplateEngineModule extends AbstractModule {
    @Override
    protected void configure() {
        bind(TemplateEngine.class).to(CustomTemplateEngine.class);
    }
}
</pre></div>
<p>This is how template engines need to be bound as of v5.4.0:</p>

<div class="source">
<pre>public class CustomTemplateEngineModule extends AbstractModule {
    @Override
    protected void configure() {
        bind(CustomTemplateEngine.class);
    }
}
</pre></div></div>
<div class="section">
<h2>to 3.3.0<a name="to_3.3.0"></a></h2>
<div class="section">
<h3>Vastly improved conf.Ninja<a name="Vastly_improved_conf.Ninja"></a></h3>
<p>Results you now generate can be customized and are usging content-negotiation. A json request will get a json error message. Html request will get an html error message. Please have a look at interface ninja.Ninja and ninja.NinjaDefault. They show how the improved approach works.</p></div></div>
<div class="section">
<h2>to 3.2.0<a name="to_3.2.0"></a></h2>
<div class="section">
<h3>i18n handling in templates has changed.<a name="i18n_handling_in_templates_has_changed."></a></h3>
<p>Let&#x2019;s say you used $i18n{&#x201c;my.message.key&#x201d;} and your messages.properties was missing a value for key &#x201c;my.message.key&#x201d;. Before that version the template would not render but throw an exception instead. From now on this behavior is relaxed and the key itself will be rendered instead (+ a logged error message). In the case above you&#x2019;ll find &#x201c;my.message.key&#x201d; inside the rendered template.</p></div></div>
<div class="section">
<h2>to 3.0.0<a name="to_3.0.0"></a></h2>
<div class="section">
<h3>Session and Flash scopes<a name="Session_and_Flash_scopes"></a></h3>
<p><tt>SessionCookie</tt> and <tt>FlashCookie</tt> changed their names. <tt>SessionCookie</tt> is now called <tt>Session</tt> and <tt>FlashCookie</tt> is called <tt>FlashScope</tt>.</p>
<p><tt>Context</tt> object reflects this by providing <tt>getSession()</tt> and <tt>getFlashScope()</tt> methods.</p></div>
<div class="section">
<h3>Changes in serving of static assets<a name="Changes_in_serving_of_static_assets"></a></h3>
<p>AssetsController&#x2019;s serve method has been deprecated for good. The replacement are AssetsController&#x2019;s serveStatic and serveWebJars methods.</p>
<p>OLD:</p>

<div>
<pre class="prettyprint">
router.GET().route(&quot;/assets/.*&quot;).with(AssetsController.class, &quot;serve&quot;);
</pre></div>
<p>NEW (direct replacement): </p>

<div>
<pre class="prettyprint">
router.GET().route(&quot;/assets/webjars/{fileName: .*}&quot;).with(AssetsController.class, &quot;serveWebJars&quot;);
router.GET().route(&quot;/assets/{fileName: .*}&quot;).with(AssetsController.class, &quot;serveStatic&quot;);
</pre></div>
<p>This also means that you can now serve static assets from arbitrary directories or even files from root like: </p>
<div>
<pre class="prettyprint"> router.GET().route(&#x201c;/robots.txt&#x201d;).with(AssetsController.class, &#x201c;serveStatic&#x201d;); </pre></div></div></div>
<div class="section">
<h2>to 2.4.0<a name="to_2.4.0"></a></h2>

<ul>
  
<li>Ninja now uses &#x201c;ninja.mode=prod&#x201d; by default (and no longer dev).  Many users complained that it is quite strange to configure the prod  mode when running Ninja as war inside a servlet container.  Therefore Ninja assumes now mode prod by default.</li>
</ul>
<p>The downside of this is that you have to set the mode for dev now manually if  you need it. Ninja&#x2019;s SuperDevMode handles this for you and you can simply  use &#x201c;mvn ninja:run&#x201d; to start Ninja in dev mode.</p>
<p>But if you are using e.g. Jetty&#x2019;s maven plugin you have to set the system  property like that:</p>

<div class="source">
<pre>        &lt;plugin&gt;
            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;
            &lt;artifactId&gt;jetty-maven-plugin&lt;/artifactId&gt;
            &lt;configuration&gt;
               ....
                &lt;systemProperties&gt;
                    &lt;systemProperty&gt;
                        &lt;name&gt;ninja.mode&lt;/name&gt;
                        &lt;value&gt;dev&lt;/value&gt;
                    &lt;/systemProperty&gt;
                &lt;/systemProperties&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;
</pre></div>
<p>The archetypes are already equipped with the new versions.</p></div>
<div class="section">
<h2>to 2.3.0<a name="to_2.3.0"></a></h2>

<ul>
  
<li>File naming convention for message files have changed. Previously it was  messages.en.properties or messages.en-US.properties. Now it is  messages_en.properties or messages_en-US.properties. Please rename  them in your application and you are ready to go.</li>
</ul>
<p>This change allows you to use a lot more i18n translation tools than  before. For instance IntelliJ and Netbeans now automatically detect the files  as i18n files and help you with translating them efficiently.</p></div>
<div class="section">
<h2>From 1.6 to 2.0.0<a name="From_1.6_to_2.0.0"></a></h2>
<p>1) Ninja&#x2019;s testing artifacts have changed. Please rename the original ninja-core-test to ninja-test-utilities in your pom.xml. You end up with the following artifact:</p>

<div class="source">
<pre>&lt;dependency&gt;
    &lt;groupId&gt;org.ninjaframework&lt;/groupId&gt;
    &lt;artifactId&gt;ninja-test-utilities&lt;/artifactId&gt;
    &lt;version&gt;X.X.X&lt;/version&gt;
    &lt;scope&gt;test&lt;/scope&gt;
&lt;/dependency&gt;
</pre></div>
<p>2) We have improved the default way xml is rendered and parsed  and are now using &#x201c;module.setDefaultUseWrapper(false)&#x201d; of Jackson that produces output  more similar to the Json renderers. This handles rendering lists and collections in a much better  way. You can change that via annotation @JacksonXmlElementWrapper.useWrapping in your models  Also see: the <a class="externalLink" href="javascript:if(confirm('https://github.com/FasterXML/jackson-dataformat-xml  \n\n该文件无法用 Teleport Ultra 下载, 因为 它是一个域或路径外部被设置为它的启始地址的地址。  \n\n你想在服务器上打开它?'))window.location='https://github.com/FasterXML/jackson-dataformat-xml'" tppabs="https://github.com/FasterXML/jackson-dataformat-xml">https://github.com/FasterXML/jackson-dataformat-xml</a></p></div>
<div class="section">
<h2>From 1.5.1 to 1.6<a name="From_1.5.1_to_1.6"></a></h2>
<p>Please change any ftl.html accesses of the flash cookie from underscore syntax into &#x201c;.&#x201d; syntax. ${flash_error} becomes ${flash.error}. ${flash_success} becomes ${flash.success}. ${flash_anyMessage} becomes ${flash.anyMessage}. This is now much more consistent with the general way we access stuff inside any ftl.html file.</p></div>
<div class="section">
<h2>From 1.4 to 1.5.1<a name="From_1.4_to_1.5.1"></a></h2>
<p>If you are using Results.redirectTemporary(&#x2026;) / Results.redirect(&#x2026;) or Results.noContent() AND if you are using a http body to indicate something (like a hyperlink text) you have to set result.render(null) to remove the NoHttpResult. Otherwise nothing will change for you. You simply don&#x2019;t need a html template by default any more.</p></div>
<div class="section">
<h2>From 1.3 to 1.4<a name="From_1.3_to_1.4"></a></h2>
<p>Improvements in i18n. You can now use the following snipplet to include i18n into your templates: ${i18n(&#x201c;myMessageKey&#x201d;)}. Using ${i18nMyMessageKey} will be deprecated soon. Don&#x2019;t use it.</p>
<p>With the new i18n facilities you can now also format your messages with variables of your template:</p>
<p>${i18n(&#x201c;myMessageKey&#x201d;, myVariable)}.</p></div>
<div class="section">
<h2>From 1.2 to 1.3<a name="From_1.2_to_1.3"></a></h2>
<p>In your project&#x2019;s pom.xml please replace artifactId ninja-core with ninja-servlet. You end up with the following dependency:</p>

<div class="source">
<pre>    &lt;dependency&gt;
        &lt;groupId&gt;org.ninjaframework&lt;/groupId&gt;
        &lt;artifactId&gt;ninja-servlet&lt;/artifactId&gt;
        &lt;version&gt;1.3&lt;/version&gt;
    &lt;/dependency&gt;
</pre></div></div>
<div class="section">
<h2>From 1.1 to 1.2<a name="From_1.1_to_1.2"></a></h2>

<ul>
  
<li>Please use &#x201c;ninja.Messages&#x201d; instead of &#x201c;ninja.Lang&#x201d; for getting messages.</li>
  
<li>Your web.xml must be adapted and should resemble:</li>
</ul>

<div>
<pre class="prettyprint">
&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;
        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;
        version=&quot;3.0&quot;&gt;

    &lt;display-name&gt;ninja&lt;/display-name&gt;

    &lt;listener&gt;
        &lt;listener-class&gt;ninja.servlet.NinjaServletListener&lt;/listener-class&gt;
    &lt;/listener&gt;

    &lt;filter&gt;
        &lt;filter-name&gt;guiceFilter&lt;/filter-name&gt;
        &lt;filter-class&gt;com.google.inject.servlet.GuiceFilter&lt;/filter-class&gt;
    &lt;/filter&gt;
    &lt;filter-mapping&gt;
        &lt;filter-name&gt;guiceFilter&lt;/filter-name&gt;
        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
    &lt;/filter-mapping&gt;

&lt;/web-app&gt;
</pre></div></div>
<div class="section">
<h2>From 1.0 to 1.1<a name="From_1.0_to_1.1"></a></h2>
<p>no changes needed.</p></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2019
                        <a href="index.html" tppabs="http://www.ninjaframework.org/">ninjaframework</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>

<!-- Mirrored from ninja.allexample.com/upgrade_guide.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 14 Oct 2019 15:10:18 GMT -->
</html>
